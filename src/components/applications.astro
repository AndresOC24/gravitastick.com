<section id="applications" class="py-32 px-4 bg-gray-100">
  <div class="max-w-6xl mx-auto">
    <h2 class="text-4xl font-black text-center mb-12">Áreas de aplicación</h2>
    
    <div class="flex flex-col md:flex-row gap-8 items-center">
      <div class="md:w-1/2 md:pr-8">
        <div class="mb-8">
          <h3 class="text-2xl font-extrabold leading-tight m-0">APLICACIONES PARA TODOS</h3>
          <p class="text-xl mt-1 mb-0 font-bold"><span class="text-primary-yellow font-bold">VERSATIBILIDAD</span> SIN LÍMITES</p>
        </div>
        
        <ul class="flex flex-col gap-5 p-0 m-0 list-none">
          <li class="flex items-start gap-4">
            <div class="flex-shrink-0 text-black w-6 h-6">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="m9 12 2 2 4-4"></path>
              </svg>
            </div>
            <div class="text-base md:text-lg leading-relaxed">
              <span class="text-primary-yellow font-bold">Gimnasios:</span> Eleva tu entrenamiento con estiramientos, fuerza y movilidad.
            </div>
          </li>          
          <li class="flex items-start gap-4">
            <div class="flex-shrink-0 text-black w-6 h-6">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="m9 12 2 2 4-4"></path>
              </svg>
            </div>
            <div class="text-base md:text-lg leading-relaxed">
              <span class="text-primary-yellow font-bold">Rehabilitación:</span> Recupera movilidad y fortalece sin impacto.
            </div>
          </li>
          
          <li class="flex items-start gap-4">
            <div class="flex-shrink-0 text-black w-6 h-6">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="m9 12 2 2 4-4"></path>
              </svg>
            </div>
            <div class="text-base md:text-lg leading-relaxed">
              <span class="text-primary-yellow font-bold">Entrenamiento:</span> Rutinas personalizadas para fuerza, movilidad y postura.
            </div>
          </li>
          
          <li class="flex items-start gap-4">
            <div class="flex-shrink-0 text-black w-6 h-6">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="m9 12 2 2 4-4"></path>
              </svg>
            </div>
            <div class="text-base md:text-lg leading-relaxed">
              <span class="text-primary-yellow font-bold">Adulto mayor:</span> Equilibrio, fuerza y bienestar sin riesgo.
            </div>
          </li>
        </ul>
      </div>
      
      <div class="md:w-1/2 mt-8 md:mt-0">
        <div class="relative flex rounded-2xl overflow-hidden h-[400px] md:h-[400px] shadow-lg" id="imageGallery">
          <div class="gallery-image relative flex-1 overflow-hidden transition-all duration-500 ease-in-out" data-index="0">
            <img src="images/imageRehabilitacion.webp" alt="Persona en rehabilitación" class="w-full h-full object-cover" />
            <div class="absolute bottom-0 left-0 right-0 py-3 px-2 text-center font-bold text-primary-yellow bg-secondary-blue-dark/80">Rehabilitación</div>
          </div>
          <div class="gallery-image relative flex-1 overflow-hidden transition-all duration-500 ease-in-out" data-index="1">
            <img src="/images/imageAdultoMayor.webp" alt="Personas Mayores" class="w-full h-full object-cover" />
            <div class="bg-secondary-blue-dark/80 absolute bottom-0 left-0 right-0 py-3 px-2 text-center font-bold text-white h-[48px] flex items-center justify-center">
              <span class="text-primary-yellow whitespace-nowrap">Adulto Mayor</span>
            </div>
          </div>
          <div class="gallery-image active relative flex-3 overflow-hidden transition-all duration-500 ease-in-out" data-index="2">
            <img src="images/imageGimnasio.webp" alt="Persona en gimnasio entrenando con una barra de GravitaStick" class="w-full h-full object-cover" />
            <div class="absolute bottom-0 left-0 right-0 py-3 px-2 text-center font-bold text-primary-yellow bg-secondary-blue-dark/80">Gimnasio</div>
          </div>
          <div class="gallery-image relative flex-1 overflow-hidden transition-all duration-500 ease-in-out" data-index="3">
            <img src="images/imageEntrenamiento.webp" alt="Entrenamiento personal con las barras de GravitaStick" class="w-full h-full object-cover" />
            <div class="absolute bottom-0 left-0 right-0 py-3 px-2 text-center font-bold text-primary-yellow bg-secondary-blue-dark/80">Entrenamiento</div>
          </div>
        </div>
        
        <div class="flex justify-center gap-2 mt-4" id="pagination">
          <button class="w-3 h-3 rounded-full bg-gray-200 transition-colors duration-300" aria-label="Slide 1" data-index="0"></button>
          <button class="w-3 h-3 rounded-full bg-gray-200 transition-colors duration-300" aria-label="Slide 2" data-index="1"></button>
          <button class="w-3 h-3 rounded-full bg-blue-500 transition-colors duration-300 active" aria-label="Slide 3" data-index="2"></button>
          <button class="w-3 h-3 rounded-full bg-gray-200 transition-colors duration-300" aria-label="Slide 4" data-index="3"></button>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Estilos mínimos necesarios que no se pueden lograr fácilmente con Tailwind */
  .gallery-image.active {
    flex: 3;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const galleryImages = document.querySelectorAll('.gallery-image');
    const paginationDots = document.querySelectorAll('#pagination button')
    /**
     * @param {number} index - The index of the active gallery image.
     */
    function setActive(index: number) {
      // Quitar clase active de todas las imágenes
      galleryImages.forEach(img => {
        img.classList.remove('active');
        img.classList.add('flex-1');
      });
      
      // Añadir clase active a la imagen clickeada
      if (galleryImages[index]) {
        galleryImages[index].classList.add('active');
        galleryImages[index].classList.remove('flex-1');
      }
      
      // Actualizar los puntos de paginación
      paginationDots.forEach(dot => {
        dot.classList.remove('active', 'bg-blue-500');
        dot.classList.add('bg-gray-200');
      });
      
      if (paginationDots[index]) {
        paginationDots[index].classList.add('active', 'bg-blue-500');
        paginationDots[index].classList.remove('bg-gray-200');
      }
    }
    
    // Añadir evento de click a las imágenes de la galería
    galleryImages.forEach((image) => {
      image.addEventListener('click', () => {
        const index = parseInt((image as HTMLElement).dataset.index || '0');
        setActive(index);
      });
    });
    
    // Añadir evento de click a los puntos de paginación
    paginationDots.forEach((dot) => {
      dot.addEventListener('click', () => {
        const index = parseInt((dot as HTMLElement).dataset.index || '0');
        setActive(index);
      });
    });
  });
</script>